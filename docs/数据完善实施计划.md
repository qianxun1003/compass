# 数据完善实施计划

## 🎯 核心目标

**完善原始数据，确保数据精准、全面、标准化，为计算模型打好坚实基础。**

---

## 📋 一、当前数据问题分析

### 问题1：前期/后期分类混乱
**现状**：
- 表格中有数据，但分类太多太乱
- 说法不同但可能指同一种
- 需要标准化分类体系

**需要做**：
1. 爬取各大学官网，收集所有"期数"相关表述
2. 分析并建立标准分类体系（互斥且全面）
3. 将现有数据映射到标准分类
4. 验证每个大学/学部对应的期数分类

### 问题2：选考方式分类混乱
**现状**：
- 同样存在分类过多、不统一的问题
- 需要标准化

**需要做**：
1. 爬取各大学官网，收集所有"选考方式"相关表述
2. 建立标准分类体系
3. 数据映射和验证

### 问题3：校内考信息不完整
**现状**：
- 整理不完整
- 需要重新爬取

**需要做**：
1. 完整爬取校内考相关信息
2. 包括：有无、形式、内容、时间、一次/二次等

### 问题4：EJU科目不准确
**现状**：
- 对现有数据不放心
- 需要重新检查验证

**需要做**：
1. 重新爬取各大学/学部的EJU科目要求
2. 与现有数据对比验证
3. 修正错误数据

---

## 🗺️ 二、标准化分类体系设计

### 2.1 期数分类标准化

**目标**：建立互斥且全面的期数分类体系

**建议标准分类**：
```
1. 只有一期（単独選抜）
2. 前期（前期選抜）
3. 后期（後期選抜）
4. 前期+后期（前期・後期選抜）
5. 一期+二期（第1期・第2期）
6. 一期+二期+三期（第1期・第2期・第3期）
7. 其他（需要根据爬取结果补充）
```

**实施步骤**：
1. 爬取所有大学的期数表述
2. 分析并归纳分类
3. 建立映射表（旧表述 → 标准分类）
4. 更新数据

### 2.2 选考方式标准化

**目标**：建立标准化的选考方式分类

**建议标准分类**：
```
1. 外国人入試（外国人特别选拔）
2. 一般入試（一般选拔）
3. 推薦入試（推荐入学）
4. AO入試（AO入学）
5. 総合型選抜（综合型选拔）
6. 学校推薦型選抜（学校推荐型选拔）
7. その他（其他，需要根据爬取结果补充）
```

**实施步骤**：
1. 爬取所有大学的选考方式表述
2. 分析并归纳分类
3. 建立映射表
4. 更新数据

---

## 📊 三、数据完善优先级

### 阶段1：数据标准化（最高优先级）

**目标**：统一现有数据的分类标准

**任务**：
1. ✅ **期数分类标准化**
   - 爬取 → 分析 → 建立标准 → 映射现有数据
   
2. ✅ **选考方式标准化**
   - 爬取 → 分析 → 建立标准 → 映射现有数据

**产出**：
- 标准分类体系文档
- 数据映射表
- 更新后的Excel数据

### 阶段2：数据补全（高优先级）

**目标**：补全缺失和不完整的数据

**任务**：
3. ✅ **校内考信息补全**
   - 重新爬取所有大学/学部的校内考信息
   - 包括：有无、形式、内容、时间、一次/二次
   
4. ✅ **EJU科目验证和修正**
   - 重新爬取EJU科目要求
   - 与现有数据对比
   - 修正错误

**产出**：
- 完整的校内考数据
- 验证后的EJU科目数据

### 阶段3：数据扩展（中优先级）

**目标**：添加新的数据字段

**任务**：
5. ✅ **出愿材料相关**
   - 出愿材料清单
   - 推荐信要求
   - 出愿流程
   
6. ✅ **成绩要求详细化**
   - 英语成绩类型（TOEFL/TOEIC/IELTS）
   - 英语成绩推荐分数
   - JLPT等级和分数要求
   - EJU科目推荐分数

**产出**：
- 扩展后的数据结构
- 新增字段的数据

---

## 🛠️ 四、具体实施步骤

### 步骤1：建立标准分类体系（1-2周）

#### 1.1 期数分类标准化

**子步骤**：
1. **爬取期数表述**
   ```python
   # 爬取所有大学的期数相关页面
   # 收集所有可能的表述
   ```

2. **分析归纳**
   - 统计所有不同的表述
   - 识别同义词和变体
   - 建立初步分类

3. **建立标准分类**
   - 确定互斥的分类
   - 确保覆盖全面
   - 编写分类说明文档

4. **数据映射**
   - 建立映射表（旧表述 → 标准分类）
   - 编写映射脚本
   - 更新Excel数据

**产出文件**：
- `docs/期数分类标准.md`
- `scripts/map_period_classification.py`
- 更新后的Excel数据

#### 1.2 选考方式标准化

**子步骤**：同1.1

**产出文件**：
- `docs/选考方式分类标准.md`
- `scripts/map_selection_method.py`
- 更新后的Excel数据

### 步骤2：数据补全（2-3周）

#### 2.1 校内考信息补全

**子步骤**：
1. **爬取校内考信息**
   - 有无校内考
   - 校内考形式（纯书类/小论文/面试/笔试等）
   - 校内考内容
   - 一次选考/二次选考
   - 各阶段时间

2. **数据验证**
   - 与现有数据对比
   - 识别缺失和错误
   - 补全和修正

3. **更新数据结构**
   - 如有需要，扩展字段
   - 更新Excel
   - 更新代码

**产出文件**：
- 完整的校内考数据
- 数据验证报告

#### 2.2 EJU科目验证和修正

**子步骤**：
1. **重新爬取EJU科目要求**
   - 访问各大学/学部官网
   - 提取EJU科目要求
   - 记录详细信息（必须/可选、组合方式等）

2. **数据对比验证**
   - 与现有数据对比
   - 识别差异
   - 标记需要人工审核的项

3. **修正数据**
   - 修正错误
   - 补全缺失
   - 更新Excel

**产出文件**：
- 验证后的EJU科目数据
- 数据差异报告

### 步骤3：数据扩展（2-3周）

#### 3.1 出愿材料相关

**子步骤**：
1. **爬取出愿材料信息**
   - 出愿材料清单
   - 推荐信要求
   - 出愿流程

2. **数据结构扩展**
   - 添加新字段到Excel
   - 更新 `export_school_data.py`
   - 更新前端显示

**产出文件**：
- 扩展后的数据结构
- 出愿材料数据

#### 3.2 成绩要求详细化

**子步骤**：
1. **爬取成绩要求详情**
   - 英语成绩类型
   - 英语成绩推荐分数
   - JLPT等级和分数
   - EJU科目推荐分数

2. **数据结构扩展**
   - 添加新字段
   - 更新代码
   - 更新计算模型

**产出文件**：
- 详细的成绩要求数据
- 更新的计算模型

---

## 📁 五、文件结构规划

```
项目根目录/
├── docs/
│   ├── 数据完善实施计划.md          ← 本文档
│   ├── 期数分类标准.md               ← 标准分类体系
│   ├── 选考方式分类标准.md           ← 标准分类体系
│   └── 数据验证报告.md               ← 验证结果
│
├── scripts/
│   ├── crawlers/
│   │   ├── crawl_period_info.py     ← 爬取期数信息
│   │   ├── crawl_selection_method.py ← 爬取选考方式
│   │   ├── crawl_exam_info.py        ← 爬取校内考信息
│   │   ├── crawl_eju_subjects.py     ← 爬取EJU科目
│   │   └── crawl_application_materials.py ← 爬取出愿材料
│   │
│   ├── standardization/
│   │   ├── analyze_period_classification.py ← 分析期数分类
│   │   ├── map_period_classification.py    ← 映射期数分类
│   │   ├── analyze_selection_method.py     ← 分析选考方式
│   │   └── map_selection_method.py         ← 映射选考方式
│   │
│   └── validation/
│       ├── validate_eju_subjects.py ← 验证EJU科目
│       └── compare_data.py          ← 数据对比
│
├── crawled_data/
│   ├── period_info/                 ← 期数信息
│   ├── selection_method/            ← 选考方式
│   ├── exam_info/                    ← 校内考信息
│   ├── eju_subjects/                 ← EJU科目
│   └── application_materials/       ← 出愿材料
│
└── standardization/
    ├── period_mapping.json          ← 期数映射表
    └── selection_method_mapping.json ← 选考方式映射表
```

---

## 🎯 六、下一步行动（立即开始）

### 第一步：建立期数分类标准（本周）

**任务清单**：
1. ✅ 编写爬虫，爬取所有大学的期数表述
2. ✅ 分析收集到的数据，归纳分类
3. ✅ 建立标准分类体系
4. ✅ 编写映射脚本
5. ✅ 更新Excel数据

**预计时间**：3-5天

**产出**：
- 标准分类体系文档
- 映射脚本
- 更新后的数据

### 第二步：建立选考方式标准（本周）

**任务清单**：同第一步

**预计时间**：3-5天

### 第三步：补全校内考信息（下周）

**任务清单**：
1. ✅ 编写爬虫，爬取校内考信息
2. ✅ 数据验证和补全
3. ✅ 更新Excel

**预计时间**：5-7天

### 第四步：验证EJU科目（下周）

**任务清单**：
1. ✅ 重新爬取EJU科目要求
2. ✅ 与现有数据对比
3. ✅ 修正错误

**预计时间**：5-7天

---

## 💡 七、实施建议

### 建议1：先做试点
- 选择10-20所代表性大学
- 测试整个流程
- 确认标准分类体系
- 然后扩展到所有大学

### 建议2：分阶段实施
- 阶段1：标准化（最重要）
- 阶段2：补全（高优先级）
- 阶段3：扩展（中优先级）

### 建议3：数据验证
- 每个阶段都要验证数据质量
- 生成验证报告
- 人工审核关键数据

---

## 📝 八、成功标准

### 数据质量标准：
1. ✅ **准确性**：数据与官网一致
2. ✅ **完整性**：关键字段无缺失
3. ✅ **一致性**：分类标准统一
4. ✅ **可验证性**：可以追溯数据来源

### 分类标准质量：
1. ✅ **互斥性**：分类之间不重叠
2. ✅ **全面性**：覆盖所有情况
3. ✅ **清晰性**：定义明确，易于理解
4. ✅ **可扩展性**：可以添加新分类

---

## 🚀 九、立即开始

### 我现在可以帮您：

1. **编写爬虫脚本**
   - 爬取期数信息
   - 爬取选考方式
   - 爬取校内考信息
   - 爬取EJU科目

2. **建立标准分类体系**
   - 分析收集到的数据
   - 建立标准分类
   - 编写映射脚本

3. **数据验证工具**
   - 编写验证脚本
   - 生成对比报告

**您希望我从哪里开始？**

建议顺序：
1. 先爬取期数信息 → 分析 → 建立标准
2. 然后选考方式
3. 然后校内考
4. 最后EJU科目

或者您有其他优先级安排？
