<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JI-æ—¥æœ¬ç•™å­¦ãƒŠãƒ“ | æ—¥æœ¬ç•™å­¦ç”³è¯·ç»¼åˆç®¡ç†å¹³å°</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+JP:wght@400;500;600&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        sakura: { 50: '#fef6f9', 100: '#fee9f2', 200: '#fdd4e6', 300: '#fcb8d4', 400: '#fa8cbb', 500: '#f565a3', 600: '#e94689' },
                        sky: { 50: '#f0f9ff', 100: '#e0f2fe', 200: '#bae6fd', 300: '#7dd3fc', 400: '#38bdf8', 500: '#0ea5e9', 600: '#0284c7' },
                        mint: { 50: '#f0fdf4', 100: '#dcfce7', 200: '#bbf7d0', 300: '#86efac', 400: '#4ade80', 500: '#22c55e', 600: '#16a34a' },
                        cream: { 50: '#fefdfb', 100: '#fdfbf7', 200: '#faf7f2', 300: '#f5f0e8', 400: '#ebe3d5' }
                    }
                }
            }
        }
    </script>
    <style>
        * { font-family: 'Noto Sans JP', -apple-system, BlinkMacSystemFont, sans-serif; margin: 0; padding: 0; box-sizing: border-box; font-weight: 500; letter-spacing: 0.04em; }
        body {
            background: linear-gradient(135deg, #f8fbff 0%, #fef8fb 20%, #f5faff 40%, #fef8fb 60%, #f5faff 80%, #f8fbff 100%);
            background-attachment: fixed;
            min-height: 100vh;
            position: relative;
        }
        @keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-4px); } }
        @keyframes breathes { 0%, 100% { opacity: 0.88; } 50% { opacity: 1; } }
        @keyframes slideUpFade { from { opacity: 0; transform: translateY(24px); } to { opacity: 1; transform: translateY(0); } }
        .animate-float { animation: float 4s ease-in-out infinite; }
        .animate-breathes { animation: breathes 5s ease-in-out infinite; }
        .hero-title-animate { animation: slideUpFade 1s cubic-bezier(0.16, 1, 0.3, 1) 0.1s both; }
        .animate-slide-up { animation: slideUpFade 1s cubic-bezier(0.16, 1, 0.3, 1) both; }
        .glass {
            background: rgba(255, 255, 255, 0.3);
            backdrop-filter: blur(15px) saturate(130%);
            -webkit-backdrop-filter: blur(15px) saturate(130%);
            border: 1px solid rgba(255, 255, 255, 0.5);
            box-shadow: 0 4px 24px rgba(245, 101, 163, 0.04), 0 2px 12px rgba(14, 165, 233, 0.03), inset 0 1px 0 rgba(255, 255, 255, 0.6);
        }
        /* å¯¼èˆªæ ï¼šåƒä»é¡¶éƒ¨åŠä¸‹çš„ç™½æ¿ï¼Œç•™è¶³ç•™ç™½ã€åˆ†ç»„æ¸…æ™°ï¼Œé¿å…æ‹¥æŒ¤ */
        .nav-bar {
            background: rgba(255, 255, 255, 0.45);
            backdrop-filter: blur(20px) saturate(140%);
            -webkit-backdrop-filter: blur(20px) saturate(140%);
            border: 1px solid rgba(255, 255, 255, 0.6);
            border-top: none;
            border-radius: 0 0 20px 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.06), 0 2px 8px rgba(0, 0, 0, 0.03), inset 0 1px 0 rgba(255, 255, 255, 0.7);
        }
        .nav-inner { gap: 0.75rem; }
        .nav-right {
            display: flex;
            flex-direction: row;
            align-items: center;
            flex-wrap: wrap;
            justify-content: flex-end;
        }
        .nav-right-divider {
            width: 1px;
            height: 1rem;
            background: rgba(203, 213, 225, 0.6);
            flex-shrink: 0;
            margin: 0 0.15rem;
        }
        @media (min-width: 640px) {
            .nav-inner { gap: 1rem; }
            .nav-right-divider { height: 1.25rem; margin: 0 0.25rem; }
        }
        /* ç³»ç»Ÿåæ ‡é¢˜è‰²ï¼šä¸­æ€§æ·±è‰²ï¼Œä¸ç”¨è“è‰² */
        .nav-system-name { color: #334155; font-weight: 600; }
        .nav-system-name:hover { color: #475569; }
        .nav-username-label { color: #64748b; font-size: 0.7rem; font-weight: 500; text-transform: uppercase; letter-spacing: 0.05em; }
        .nav-admin-link-style {
            color: #475569;
            background: rgba(248, 250, 252, 0.8);
            border: 1px solid rgba(203, 213, 225, 0.8);
            font-weight: 500;
        }
        .nav-admin-link-style:hover { background: rgba(241, 245, 249, 0.95); color: #334155; }
        .nav-logout-btn {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.7) 0%, rgba(248, 250, 252, 0.6) 100%) !important;
            color: #475569 !important;
            border: 1px solid rgba(203, 213, 225, 0.7);
            font-weight: 500;
        }
        .nav-logout-btn:hover { color: #334155 !important; border-color: rgba(148, 163, 184, 0.8); box-shadow: 0 4px 12px rgba(0,0,0,0.06); }
        /* å¸®åŠ©æµ®å±‚ï¼šæ¯›ç»ç’ƒèƒŒæ™¯ + å±…ä¸­å¡ç‰‡ */
        #help-overlay {
            position: fixed; inset: 0; z-index: 100;
            background: rgba(248, 250, 252, 0.4);
            backdrop-filter: blur(20px) saturate(120%);
            -webkit-backdrop-filter: blur(20px) saturate(120%);
            display: none; align-items: center; justify-content: center;
            padding: 24px;
            animation: helpFadeIn 0.3s ease-out;
        }
        #help-overlay.help-open { display: flex; }
        @keyframes helpFadeIn { from { opacity: 0; } to { opacity: 1; } }
        #help-overlay .help-card {
            background: rgba(255, 255, 255, 0.6);
            backdrop-filter: blur(24px) saturate(140%);
            -webkit-backdrop-filter: blur(24px) saturate(140%);
            border: 1px solid rgba(255, 255, 255, 0.7);
            border-radius: 24px;
            padding: 28px 32px;
            max-width: 420px;
            width: 100%;
            box-shadow: 0 24px 48px rgba(0, 0, 0, 0.08), inset 0 1px 0 rgba(255, 255, 255, 0.8);
            position: relative;
            animation: helpCardIn 0.35s cubic-bezier(0.34, 1.56, 0.64, 1);
        }
        @keyframes helpCardIn { from { opacity: 0; transform: scale(0.96) translateY(8px); } to { opacity: 1; transform: scale(1) translateY(0); } }
        #help-overlay .help-close {
            position: absolute; top: 12px; right: 12px;
            width: 36px; height: 36px; border-radius: 12px;
            border: none; background: rgba(248, 250, 252, 0.8);
            color: #64748b; cursor: pointer;
            display: flex; align-items: center; justify-content: center;
            transition: background 0.2s, color 0.2s;
        }
        #help-overlay .help-close:hover { background: rgba(226, 232, 240, 0.9); color: #334155; }
        /* æ¨¡å—å¡ç‰‡ï¼šæ·¡æ·¡ä¸€åœˆè§å…‰ï¼ŒæŸ”å’Œæ¨¡ç³Šè¾¹ç•Œï¼Œä¸æŠ¢çœ¼ */
        .module-card {
            position: relative;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            overflow: visible;
            background: rgba(255, 255, 255, 0.3);
            backdrop-filter: blur(15px) saturate(130%);
            -webkit-backdrop-filter: blur(15px) saturate(130%);
            border: 1px solid rgba(255, 255, 255, 0.5);
            border-radius: 24px;
            box-shadow: 0 0 32px rgba(245, 101, 163, 0.07), 0 0 56px rgba(245, 101, 163, 0.04), 0 4px 20px rgba(245, 101, 163, 0.02), inset 0 1px 0 rgba(255, 255, 255, 0.5);
        }
        .module-card:hover {
            box-shadow: 0 0 40px rgba(245, 101, 163, 0.1), 0 0 64px rgba(245, 101, 163, 0.06), 0 8px 28px rgba(245, 101, 163, 0.04), inset 0 1px 0 rgba(255, 255, 255, 0.7);
            transform: translateY(-2px);
        }
        .feature-badge {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            padding: 4px 10px;
            background: rgba(255, 255, 255, 0.25);
            border: 1px solid rgba(255, 255, 255, 0.5);
            border-radius: 12px;
            font-size: clamp(0.65rem, 2vw, 0.75rem);
            font-weight: 400;
            color: #475569;
        }
        @media (min-width: 640px) {
            .feature-badge { gap: 6px; padding: 6px 12px; border-radius: 14px; font-size: 12px; }
        }
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: rgba(254, 249, 242, 0.6); border-radius: 8px; }
        ::-webkit-scrollbar-thumb { background: linear-gradient(180deg, rgba(186, 230, 253, 0.6), rgba(254, 233, 242, 0.5)); border-radius: 8px; }
        .btn-primary {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.5) 0%, rgba(255, 255, 255, 0.35) 50%, rgba(255, 255, 255, 0.45) 100%) !important;
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: none;
            color: #0284c7;
            font-weight: 500;
            letter-spacing: 0.05em;
            transition: all 0.4s ease;
            box-shadow: 0 4px 24px rgba(99, 102, 241, 0.06), 0 2px 16px rgba(14, 165, 233, 0.05), inset 0 1px 0 rgba(255, 255, 255, 0.8);
        }
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 20px 48px rgba(99, 102, 241, 0.1), 0 12px 32px rgba(14, 165, 233, 0.08), inset 0 1px 0 rgba(255, 255, 255, 0.95);
        }
        .stat-number { font-weight: 500; letter-spacing: 0.05em; color: #0284c7; text-shadow: 0 1px 2px rgba(255, 255, 255, 0.5); font-size: clamp(1.5rem, 6vw, 2.25rem); }
        .title-backdrop { backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px); }
        .font-serif-title { font-family: 'Noto Serif JP', 'Noto Sans JP', serif; }
        .input-glass {
            background: rgba(255, 255, 255, 0.4);
            border: 1px solid rgba(255, 255, 255, 0.6);
            border-radius: 16px;
            padding: 10px 14px;
        }
        .input-glass:focus {
            outline: none;
            border-color: rgba(14, 165, 233, 0.5);
            box-shadow: 0 0 0 3px rgba(14, 165, 233, 0.1);
        }
        /* å°å±æ•´ä½“å­—ä½“é€‚åº¦ç¼©å°ï¼šéšè§†å£è‡ªåŠ¨ç¼©æ”¾ */
        .hero-title-fluid { font-size: clamp(1.25rem, 5vw + 0.5rem, 3rem); }
        .section-title-fluid { font-size: clamp(1rem, 2.5vw + 0.5rem, 1.5rem); }
        .body-fluid { font-size: clamp(0.8125rem, 1.5vw + 0.4rem, 0.875rem); }
        .card-title-fluid { font-size: clamp(1rem, 2.2vw + 0.5rem, 1.5rem); }
        .btn-text-fluid { font-size: clamp(0.75rem, 1.8vw + 0.3rem, 0.875rem); }
        .nav-inner .nav-right { margin-left: auto; }
        /* ç§»åŠ¨ç«¯ï¼šå¯¼èˆªä¸æŒ‰é’®ä¸è¢«æ‹‰é•¿ */
        @media (max-width: 768px) {
            .nav-inner { flex-wrap: wrap; gap: 0.75rem; }
            .nav-right { flex-shrink: 0; flex-wrap: wrap; justify-content: flex-end; margin-left: 0; }
            .nav-right a, .nav-right button { flex: 0 0 auto !important; max-width: none; white-space: nowrap; }
            .nav-bar .max-w-7xl { padding-left: 1rem; padding-right: 1rem; }
            .main-grid-modules { grid-template-columns: 1fr !important; }
            .main-grid-stats { grid-template-columns: 1fr 1fr; gap: 0.75rem; }
            .card-btn { min-width: 0; flex-shrink: 0; }
        }
        @media (max-width: 480px) {
            .nav-right .text-sm { font-size: 0.75rem; }
        }
    </style>
</head>
<body>

    <!-- é¡¶éƒ¨å¯¼èˆªæ ï¼šç®¡ç†åå°åœ¨å·¦ã€Logo å±…ä¸­ã€ç”¨æˆ·ä¸å¸®åŠ©åœ¨å³ï¼Œä¸é‡å  -->
    <nav class="fixed top-0 left-0 right-0 z-50 nav-bar">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 py-4 sm:py-5">
            <div class="flex items-center justify-between gap-3 sm:gap-4 nav-inner w-full">
                <a id="navAdminLink" href="admin/login.html" class="nav-admin-link-style inline-flex items-center gap-1.5 px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-lg text-xs sm:text-sm transition-all no-underline hidden whitespace-nowrap flex-shrink-0" title="ç­ä¸»ä»»/ç®¡ç†å‘˜åœ¨æ­¤ç™»å½•">
                    <i class="fas fa-cog text-[10px] sm:text-xs"></i><span>ç®¡ç†åå°</span>
                </a>
                <a href="index.html" class="flex items-center gap-2.5 min-w-0 flex-shrink no-underline nav-brand">
                    <div class="w-9 h-9 sm:w-10 sm:h-10 rounded-xl bg-white/50 backdrop-blur-sm border border-white/60 flex items-center justify-center flex-shrink-0" style="box-shadow: inset 0 1px 0 rgba(255,255,255,0.8), 0 1px 3px rgba(0,0,0,0.04)">
                        <i class="fas fa-compass text-slate-600 text-base sm:text-lg"></i>
                    </div>
                    <div class="min-w-0">
                        <h1 class="nav-system-name font-serif-title truncate text-sm sm:text-base leading-tight" style="letter-spacing: 0.05em">JI-æ—¥æœ¬ç•™å­¦ãƒŠãƒ“</h1>
                        <p class="text-[10px] sm:text-xs text-slate-400 font-normal hidden sm:block leading-tight">JI-Japan Study Navigator</p>
                    </div>
                </a>
                <div class="flex items-center gap-2 sm:gap-3 nav-right flex-shrink-0">
                    <span class="nav-right-divider hidden sm:block" aria-hidden="true"></span>
                    <span class="nav-username-label hidden sm:inline text-slate-500 text-xs">ç”¨æˆ·</span>
                    <span class="text-slate-600 text-xs sm:text-sm font-medium truncate max-w-[72px] sm:max-w-[100px]" id="navUsername"></span>
                    <button type="button" id="logoutBtn" class="nav-logout-btn px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-lg text-xs sm:text-sm whitespace-nowrap transition-all">ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ</button>
                    <button type="button" id="navHelpBtn" class="inline-flex items-center gap-1.5 px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-lg text-xs sm:text-sm font-medium transition-all whitespace-nowrap border border-slate-200/80 bg-slate-50/80 text-slate-600 hover:bg-slate-100/90 hover:text-slate-700 flex-shrink-0" title="å¿—æœ›æ ¡ã®è¿½åŠ ã«ã¤ã„ã¦">
                        <i class="fas fa-question-circle text-[10px] sm:text-xs"></i><span>å¸®åŠ©</span>
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- å¸®åŠ©æµ®å±‚ï¼šå¿—æœ›æ ¡ã®è¿½åŠ è¯´æ˜ + å‡ºé¡˜ã‚»ãƒ³ã‚¿ãƒ¼è·³è½¬ -->
    <div id="help-overlay" class="help-overlay" onclick="if(event.target===this)closeHelpOverlay()">
        <div class="help-card" onclick="event.stopPropagation()">
            <button type="button" class="help-close" id="helpOverlayClose" aria-label="é–‰ã˜ã‚‹"><i class="fas fa-times"></i></button>
            <h3 class="section-title-fluid font-medium text-slate-700 mb-3 font-serif-title" style="letter-spacing: 0.05em">å¿—æœ›æ ¡ã®è¿½åŠ </h3>
            <p class="text-slate-600 body-fluid font-normal mb-5 leading-relaxed">å¿—æœ›æ ¡ã¯ã€Œæ¡ä»¶æ¤œç´¢ã€ã€Œæˆç¸¾è©•ä¾¡ã€ã€Œã‚¯ã‚¤ãƒƒã‚¯æ¤œç´¢ã€ã®ã„ãšã‚Œã‹ã§å¤§å­¦ãƒ»å­¦éƒ¨ã‚’é¸ã³ã€ã€ŒåŠ å…¥è®¡åˆ’ã€ã§å‡ºé¡˜ãƒªã‚¹ãƒˆã«è¿½åŠ ã—ã¦ãã ã•ã„ã€‚è¿½åŠ å¾Œã¯å‡ºé¡˜ã‚»ãƒ³ã‚¿ãƒ¼ã§ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ã¨æ›¸é¡ã‚’ç®¡ç†ã§ãã¾ã™ã€‚</p>
            <a href="compass_application.html" class="btn-primary btn-text-fluid inline-flex items-center justify-center gap-2 py-2.5 sm:py-3 px-4 sm:px-6 rounded-2xl no-underline">
                <i class="fas fa-calendar-alt"></i> å‡ºé¡˜ã‚»ãƒ³ã‚¿ãƒ¼ã§ç®¡ç†
            </a>
        </div>
    </div>

    <!-- ä¸»è¦å†…å®¹åŒºï¼šé¡¶éƒ¨å¤šç•™ä¸€ç‚¹ï¼Œä¸å¯¼èˆªæ ä¸‹æ²¿ä¿æŒé—´è· -->
    <main class="pt-24 sm:pt-28 pb-24 px-4 sm:px-8">
        <div class="max-w-6xl mx-auto">

            <!-- æ¬¢è¿æ¨ªå¹… -->
            <div class="glass rounded-3xl p-6 sm:p-12 md:p-16 mb-8 sm:mb-12 text-center relative overflow-visible">
                <div class="relative inline-block mb-6">
                    <div class="absolute inset-0 -m-6 rounded-2xl bg-white/20 animate-breathes title-backdrop"></div>
                    <h2 class="relative hero-title-fluid font-medium text-[#0284c7] leading-tight px-4 py-2 sm:px-6 sm:py-3 font-serif-title hero-title-animate" style="letter-spacing: 0.08em">
                        JI-æ—¥æœ¬ç•™å­¦ãƒŠãƒ“ã¸ã‚ˆã†ã“ã <span class="inline-block ml-1">â˜ï¸</span>
                    </h2>
                </div>
                <p class="body-fluid text-slate-500 font-medium mb-8 sm:mb-14 max-w-xl mx-auto animate-slide-up" style="animation-delay: 0.2s">
                    æ—¥æœ¬å¤§å­¦ç”³è«‹ç®¡ç†ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ 
                </p>
                <div class="grid grid-cols-2 main-grid-stats gap-4 sm:gap-8 max-w-md mx-auto">
                    <div class="glass rounded-2xl p-5 sm:p-8 border border-white/50">
                        <div class="stat-number mb-1">160+</div>
                        <div class="text-slate-500 font-normal body-fluid">åéŒ²å¤§å­¦</div>
                    </div>
                    <div class="glass rounded-2xl p-5 sm:p-8 border border-white/50">
                        <div class="stat-number mb-1">3031</div>
                        <div class="text-slate-500 font-normal body-fluid">å­¦éƒ¨ãƒ‡ãƒ¼ã‚¿</div>
                    </div>
                </div>
            </div>

            <!-- æ ¸å¿ƒæ©Ÿèƒ½ -->
            <div class="mb-20">
                <a href="compass_application.html" class="module-card glass p-6 sm:p-12 block mb-6 sm:mb-8">
                    <span class="block text-3xl sm:text-4xl mb-3 sm:mb-4 animate-float" style="animation-delay: 1s">ğŸ“…</span>
                    <h3 class="card-title-fluid font-medium text-[#0284c7] mb-2 sm:mb-3 font-serif-title" style="letter-spacing: 0.05em">å‡ºé¡˜ã‚»ãƒ³ã‚¿ãƒ¼</h3>
                    <p class="text-slate-500 font-normal body-fluid mb-4 sm:mb-6 leading-relaxed">ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³å¯è¦–åŒ–ã§ç”³è«‹é€²æ—ã‚’ç®¡ç†</p>
                    <div class="flex flex-wrap gap-1.5 sm:gap-2 mb-4 sm:mb-6">
                        <span class="feature-badge">ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ç”Ÿæˆ</span>
                        <span class="feature-badge">æ›¸é¡ãƒªã‚¹ãƒˆè¿½è·¡</span>
                    </div>
                    <span class="btn-primary card-btn btn-text-fluid inline-flex items-center justify-center w-full py-3 sm:py-3.5 rounded-2xl">ç®¡ç†é–‹å§‹</span>
                </a>
                <div class="relative mb-6" style="height: 80px;">
                    <svg class="absolute inset-0 w-full h-full" style="pointer-events: none; overflow: visible;">
                        <defs>
                            <marker id="arrowhead" markerWidth="8" markerHeight="8" refX="4" refY="4" orient="auto" markerUnits="strokeWidth">
                                <polygon points="0 0, 8 4, 0 8" fill="rgba(14, 165, 233, 0.25)" />
                            </marker>
                        </defs>
                        <line x1="16.66%" y1="100%" x2="35%" y2="0%" stroke="rgba(14, 165, 233, 0.25)" stroke-width="1.5" marker-end="url(#arrowhead)"/>
                        <line x1="50%" y1="100%" x2="50%" y2="0%" stroke="rgba(14, 165, 233, 0.25)" stroke-width="1.5" marker-end="url(#arrowhead)"/>
                        <line x1="83.34%" y1="100%" x2="65%" y2="0%" stroke="rgba(14, 165, 233, 0.25)" stroke-width="1.5" marker-end="url(#arrowhead)"/>
                    </svg>
                </div>
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 mb-8 sm:mb-12 main-grid-modules">
                    <a href="compass_filter.html" class="module-card glass p-6 sm:p-12 block">
                        <span class="block text-3xl sm:text-4xl mb-3 sm:mb-4 animate-float">ğŸ”</span>
                        <h3 class="card-title-fluid font-medium text-[#0284c7] mb-2 sm:mb-3 font-serif-title" style="letter-spacing: 0.05em">æ¡ä»¶æ¤œç´¢</h3>
                        <p class="text-slate-500 font-normal body-fluid mb-4 sm:mb-6 leading-relaxed">åœ°åŸŸãƒ»å­¦è²»ãƒ»å…¥å­¦æ¡ä»¶ã§å¤šæ¬¡å…ƒãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°</p>
                        <div class="flex flex-wrap gap-1.5 sm:gap-2 mb-4 sm:mb-6">
                            <span class="feature-badge">åœ°åŸŸãƒ»éƒ½å¸‚é¸æŠ</span>
                            <span class="feature-badge">å…¥å­¦è¦ä»¶ãƒãƒƒãƒãƒ³ã‚°</span>
                        </div>
                        <span class="btn-primary card-btn btn-text-fluid inline-flex items-center justify-center w-full py-3 sm:py-3.5 rounded-2xl">æ¤œç´¢ã‚’å§‹ã‚ã‚‹</span>
                    </a>
                    <a href="compass_search.html" class="module-card glass p-6 sm:p-12 block">
                        <span class="block text-3xl sm:text-4xl mb-3 sm:mb-4 animate-float" style="animation-delay: 1.5s">ğŸ”</span>
                        <h3 class="card-title-fluid font-medium text-[#0284c7] mb-2 sm:mb-3 font-serif-title" style="letter-spacing: 0.05em">ã‚¯ã‚¤ãƒƒã‚¯æ¤œç´¢</h3>
                        <p class="text-slate-500 font-normal body-fluid mb-4 sm:mb-6 leading-relaxed">ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã—ã¦ç›®æ¨™å¤§å­¦ã‚’ç¬æ™‚ã«æ¤œç´¢</p>
                        <div class="flex flex-wrap gap-1.5 sm:gap-2 mb-4 sm:mb-6">
                            <span class="feature-badge">ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰æ¤œç´¢</span>
                            <span class="feature-badge">ç²¾å¯†ãƒãƒƒãƒãƒ³ã‚°</span>
                        </div>
                        <span class="btn-primary card-btn btn-text-fluid inline-flex items-center justify-center w-full py-3 sm:py-3.5 rounded-2xl">æ¤œç´¢é–‹å§‹</span>
                    </a>
                    <a href="compass_score.html" class="module-card glass p-6 sm:p-12 block">
                        <span class="block text-3xl sm:text-4xl mb-3 sm:mb-4 animate-float" style="animation-delay: 0.5s">ğŸ“Š</span>
                        <h3 class="card-title-fluid font-medium text-[#0284c7] mb-2 sm:mb-3 font-serif-title" style="letter-spacing: 0.05em">æˆç¸¾è©•ä¾¡</h3>
                        <p class="text-slate-500 font-normal body-fluid mb-4 sm:mb-6 leading-relaxed">æˆç¸¾ã‚’å…¥åŠ›ã—ã¦æœ€é©ãªå¤§å­¦ã‚’ãƒãƒƒãƒãƒ³ã‚°</p>
                        <div class="flex flex-wrap gap-1.5 sm:gap-2 mb-4 sm:mb-6">
                            <span class="feature-badge">EJUæˆç¸¾åˆ†æ</span>
                            <span class="feature-badge">TOEFLãƒ»TOEICè©•ä¾¡</span>
                            <span class="feature-badge">AIå¤§å­¦æ¨è–¦</span>
                        </div>
                        <span class="btn-primary card-btn btn-text-fluid inline-flex items-center justify-center w-full py-3 sm:py-3.5 rounded-2xl">æˆç¸¾è©•ä¾¡</span>
                    </a>
                </div>
                <div class="grid grid-cols-1 gap-10 max-w-2xl mx-auto">
                    <a href="onboarding.html" class="module-card glass p-6 sm:p-12 block">
                        <span class="block text-3xl sm:text-4xl mb-3 sm:mb-4 animate-float">ğŸ’¬</span>
                        <h3 class="card-title-fluid font-medium text-[#0284c7] mb-2 sm:mb-3 font-serif-title" style="letter-spacing: 0.05em">å¯¾è©±å¼ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ä½œæˆ</h3>
                        <p class="text-slate-500 font-normal body-fluid mb-4 sm:mb-6 leading-relaxed">å°ã•ãªã‚¹ãƒãƒ¼ãƒˆãƒ‡ãƒã‚¤ã‚¹ã¨å¯¾è©±ã—ã€å‡ºé¡˜ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’æŠŠæ¡ã€‚ã‚ãªãŸã®ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã«åˆã‚ã›ã¦æ™‚é–“è¨ˆç”»è¡¨ã‚’è‡ªå‹•ç”Ÿæˆã—ã¾ã™ã€‚</p>
                        <div class="flex flex-wrap gap-1.5 sm:gap-2 mb-4 sm:mb-6">
                            <span class="feature-badge">å¯¾è©±ã§ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«æŠŠæ¡</span>
                            <span class="feature-badge">è¨ˆç”»è¡¨è‡ªå‹•ç”Ÿæˆ</span>
                            <span class="feature-badge">å‡ºé¡˜ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³æ•´ç†</span>
                        </div>
                        <span class="btn-primary card-btn btn-text-fluid inline-flex items-center justify-center w-full py-3 sm:py-3.5 rounded-2xl">å¯¾è©±ã‚’å§‹ã‚ã‚‹</span>
                    </a>
                </div>
            </div>

            <div class="text-center text-slate-400 body-fluid font-normal pt-6 sm:pt-8">
                <p>ãƒ‡ãƒ¼ã‚¿æ›´æ–°: 2025å¹´2æœˆ | ãƒãƒ¼ã‚¸ãƒ§ãƒ³: v2.0</p>
            </div>

        </div>
    </main>

    <script src="js/auth.js"></script>
    <script>
        if (!Auth.requireAuth()) throw new Error('redirect');

        var user = Auth.getUser();
        if (user && user.username) {
            document.getElementById('navUsername').textContent = user.username;
        }

        (function showAdminLinkIfRole() {
            var apiBase = (typeof Auth !== 'undefined' && Auth.getApiBase) ? Auth.getApiBase() : '';
            var el = document.getElementById('navAdminLink');
            if (!el) return;
            function setVisible(show) { el.classList.toggle('hidden', !show); }
            function hasAdminRole(r) { var s = r ? String(r).trim().toLowerCase() : ''; return s && ['admin','super_admin','teacher'].indexOf(s) >= 0; }
            function isStaffPreview(u) { return u && String(u.username || '').toLowerCase() === 'staff_preview'; }
            var user = Auth.getUser();
            if (typeof console !== 'undefined' && console.log) { console.log('[å­¦ç”Ÿç«¯] æœ¬åœ°ç¼“å­˜çš„ç”¨æˆ·:', user, 'role=', user && user.role); }
            var shownByCache = !!(user && (hasAdminRole(user.role) || isStaffPreview(user)));
            if (shownByCache) { setVisible(true); }
            if (!Auth.getToken()) { setVisible(false); return; }
            fetch(apiBase + '/api/me', { headers: Auth.authHeaders() })
                .then(function(r) {
                    if (!r.ok) return null;
                    return r.text().then(function(t) {
                        try { return t ? JSON.parse(t) : null; } catch (e) { return null; }
                    });
                })
                .then(function(data) {
                    if (typeof console !== 'undefined' && console.log) { console.log('[å­¦ç”Ÿç«¯] /api/me è¿”å›:', data, 'æ˜¯å¦æ˜¾ç¤ºæŒ‰é’®:', !!(data && (hasAdminRole(data.role) || isStaffPreview(data)))); }
                    if (data) { Auth.setUser(data); }
                    setVisible(!!(data && (hasAdminRole(data.role) || isStaffPreview(data))));
                })
                .catch(function(err) { if (typeof console !== 'undefined' && console.warn) { console.warn('[å­¦ç”Ÿç«¯] /api/me è¯·æ±‚å¤±è´¥:', err); } if (!shownByCache) setVisible(false); });
        })();

        document.getElementById('logoutBtn').addEventListener('click', function() {
            Auth.clearToken();
            window.location.href = '/login.html';
        });

        function openHelpOverlay() {
            var el = document.getElementById('help-overlay');
            if (el) el.classList.add('help-open');
        }
        function closeHelpOverlay() {
            var el = document.getElementById('help-overlay');
            if (el) el.classList.remove('help-open');
        }
        document.getElementById('navHelpBtn').addEventListener('click', openHelpOverlay);
        document.getElementById('helpOverlayClose').addEventListener('click', closeHelpOverlay);
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape' && document.getElementById('help-overlay').classList.contains('help-open')) closeHelpOverlay();
        });
    </script>
</body>
</html>
