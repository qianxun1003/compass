# Render Blueprint: 大学コンパス - 日本留学申请综合管理平台
# 部署前请在 Dashboard 中为 Web Service 设置 JWT_SECRET（或使用下方 env 的 generateValue）

databases:
  - name: ichikawaryuugaku-db
    plan: free
    region: oregon

services:
  - type: web
    name: ichikawaryuugaku-web
    runtime: node
    plan: free
    region: oregon
    buildCommand: npm install
    startCommand: npm start
    preDeployCommand: npm run init-db
    envVars:
      - key: DATABASE_URL
        fromDatabase:
          name: ichikawaryuugaku-db
          property: connectionString
      - key: JWT_SECRET
        generateValue: true
      - key: NODE_ENV
        value: production
